# 未转化函数清单

## 📊 总体统计

- **总函数数**: 96
- **已转化**: 59 (61.5%) ✅
- **未转化**: 37 (38.5%) ⏳

---

## ⏳ 未转化函数详细列表 (37个)

### 🟡 中优先级 - 可选增强功能 (29个)

#### 1. 预览功能 (9个函数) - 可选
这些函数用于文件预览面板，可以后续按需实现：

1. ⏳ `updatePreview(file)` - 更新预览面板内容
2. ⏳ `showFullscreenPreview(filePath)` - 显示全屏预览
3. ⏳ `hideFullscreenPreview()` - 隐藏全屏预览
4. ⏳ `showDefaultPreview(filePath, fileExt)` - 显示默认预览
5. ⏳ `handlePreviewContentClick(e)` - 预览内容点击事件
6. ⏳ `handlePreviewContentDblClick(e)` - 预览内容双击事件
7. ⏳ `handlePreviewContentMouseOver(e)` - 预览内容鼠标悬停
8. ⏳ `handlePreviewContentMouseOut(e)` - 预览内容鼠标移出
9. ⏳ `handlePreviewContentKeyDown(e)` - 预览内容键盘事件

**说明**: 预览功能需要处理多种文件类型（图片、文本、PDF等），实现复杂度较高。

---

#### 2. 框选功能 (8个函数) - 推荐实现
用于鼠标拖拽框选多个文件：

10. ⏳ `createSelectionBox(x, y)` - 创建选择框
11. ⏳ `updateSelectionBox(x, y)` - 更新选择框位置和大小
12. ⏳ `removeSelectionBox()` - 移除选择框
13. ⏳ `isElementInSelectionBox(element, box)` - 判断元素是否在框内
14. ⏳ `selectItemsInBox()` - 选中框内的所有项
15. ⏳ `handleMouseDown(e)` - 处理鼠标按下（开始框选）
16. ⏳ `handleMouseMove(e)` - 处理鼠标移动（更新框选）
17. ⏳ `handleMouseUp(e)` - 处理鼠标松开（完成框选）

**说明**: 框选功能可以大幅提升多选文件的用户体验，建议优先实现。

---

#### 3. 标签系统 (4个函数) - 可选
文件标签功能，用于标记和分类文件：

18. ⏳ `handleTagClick(e)` - 处理标签点击
19. ⏳ `handleTagRightClick(e)` - 处理标签右键
20. ⏳ `updateFolderTag(folderElement)` - 更新文件夹标签
21. ⏳ `showTagView(color)` - 按标签颜色显示文件

**说明**: 标签系统是增强功能，不影响核心使用。

---

#### 4. 时间线视图 (4个函数) - 可选
按时间线展示文件：

22. ⏳ `createTimelineItems(fileDetails)` - 创建时间线项
23. ⏳ `toggleYearItems(e)` - 切换年份项展开/折叠
24. ⏳ `toggleMonthItems(e)` - 切换月份项展开/折叠
25. ⏳ `toggleDateItems(e)` - 切换日期项展开/折叠

**说明**: 时间线视图提供另一种文件浏览方式，与现有的日历和年报视图类似。

---

#### 5. 视图和排序 (4个函数) - 部分已实现
26. ⏳ `setViewMode(mode)` - 设置视图模式
   - 注：`setView()` 已实现，功能类似
27. ⏳ `sortGroupFiles(groupContent, sortType, isAscending)` - 分组文件排序
28. ⏳ `handleSortClick(sortMethod)` - 处理排序点击
29. ⏳ `groupFilesByType(files)` - 按类型分组文件
   - 注：已实现 ✅

**说明**: 部分功能已实现，剩余功能为增强排序体验。

---

### 🟢 低优先级 - 辅助功能 (8个)

#### 6. 拖拽调整大小 (6个函数) - 低优先级
用于调整侧边栏和预览面板大小：

30. ⏳ `initResize(e)` - 初始化调整大小
31. ⏳ `resize(e)` - 调整大小中
32. ⏳ `stopResize()` - 停止调整大小
33. ⏳ `initPreviewResize(e)` - 初始化预览面板调整
34. ⏳ `resizePreview(e)` - 调整预览面板
35. ⏳ `stopPreviewResize()` - 停止预览面板调整

**说明**: UI 细节优化，不影响基本功能。

---

#### 7. 其他辅助功能 (2个)
36. ⏳ `updateRecentTab()` - 更新最近访问标签
   - 依赖 Windows 快捷方式解析
   
37. ⏳ `updateQuickAccess()` - 更新快速访问
   - 与 `updateRecentTab()` 功能类似

**说明**: 这些功能需要访问 Windows 系统的最近文件列表，实现复杂。

---

## ✅ 已转化但未在清单中标注的函数

以下函数实际上已经实现，但在原清单中可能标注为待实现：

1. ✅ `formatDate(date)` - 已实现
2. ✅ `formatTime(date)` - 已实现
3. ✅ `debounce(func, wait)` - 已实现
4. ✅ `getCurrentViewDataAttribute()` - 已实现
5. ✅ `toggleSidebarSection(sectionId)` - 已实现
6. ✅ `updateFavorites()` - 已实现
7. ✅ `groupFilesByType(files)` - 已实现

---

## 🚫 不建议实现的函数

以下函数依赖特定环境或外部工具，不建议在 Tauri 版本中实现：

1. ❌ `openWithSeer(filePath, seerPath)` - 依赖 Seer 软件（Windows）
2. ❌ `convertToPdf(inputPath, outputPath)` - 依赖 LibreOffice（外部工具）
3. ❌ `getFileIcon(file)` - 依赖 Windows API 提取图标（复杂）
4. ❌ `getUnknownIcon(ext, defaultIcon)` - 同上
5. ❌ `validateAndInitData()` - 特定于原项目数据结构

**说明**: 这些功能要么依赖外部软件，要么需要复杂的系统调用，性价比低。

---

## 📋 实际需要实现的函数统计

**重新评估后**:
- 🟡 **推荐实现**: 框选功能 (8个) - 提升用户体验
- 🟡 **可选实现**: 预览功能 (9个) - 增强功能
- 🟡 **可选实现**: 标签系统 (4个) - 增强功能
- 🟡 **可选实现**: 时间线视图 (4个) - 增强功能
- 🟢 **低优先级**: 拖拽调整 (6个) - UI 优化
- 🟢 **低优先级**: 其他辅助 (2个) - 可选
- 🚫 **不建议**: 特殊功能 (5个) - 依赖外部

**总计**: 
- **值得实现**: 25个
- **不建议实现**: 5个
- **已实现但未标注**: 7个

---

## 🎯 推荐实施顺序

### 第一优先级: 框选功能 (1-2天)
实现鼠标拖拽框选，大幅提升多选文件体验：
- `createSelectionBox`
- `updateSelectionBox`
- `removeSelectionBox`
- `isElementInSelectionBox`
- `selectItemsInBox`
- `handleMouseDown`
- `handleMouseMove`
- `handleMouseUp`

**价值**: ⭐⭐⭐⭐⭐ 高
**难度**: ⭐⭐⭐ 中等
**建议**: 强烈推荐

---

### 第二优先级: 预览功能 (3-5天)
实现文件预览面板：
- `updatePreview` - 基础预览
- `showFullscreenPreview` - 全屏预览
- 其他预览辅助函数

**价值**: ⭐⭐⭐⭐ 中高
**难度**: ⭐⭐⭐⭐ 较难
**建议**: 根据用户反馈决定

---

### 第三优先级: 标签和时间线 (各2-3天)
增强分类和浏览方式：
- 标签系统 (4个函数)
- 时间线视图 (4个函数)

**价值**: ⭐⭐⭐ 中等
**难度**: ⭐⭐⭐ 中等
**建议**: 可以根据用户需求选择性实现

---

### 第四优先级: UI 优化 (1-2天)
拖拽调整大小等 UI 细节：
- 侧边栏调整
- 预览面板调整

**价值**: ⭐⭐ 低
**难度**: ⭐⭐ 简单
**建议**: 最后实现或不实现

---

## 💡 替代方案

对于某些未实现的功能，可以考虑以下替代方案：

### 1. 预览功能替代
- 使用系统默认程序预览（双击打开）
- 集成第三方预览库（如 viewer.js for images）
- 只实现图片预览，其他类型跳过

### 2. 文件图标替代
- 使用 emoji 图标（当前方案）✅
- 使用 Font Awesome 图标
- 根据扩展名显示文本标识

### 3. 最近访问替代
- 自己维护最近访问记录（localStorage）
- 使用浏览历史功能
- 不实现此功能

---

## 📊 完成度总结

### 按功能模块
| 模块 | 已实现 | 未实现 | 完成度 |
|------|--------|--------|--------|
| 核心功能 | 100% | 0% | ✅ 100% |
| 文件操作 | 100% | 0% | ✅ 100% |
| 导航功能 | 100% | 0% | ✅ 100% |
| 日历/年报 | 100% | 0% | ✅ 100% |
| 收藏/分组 | 100% | 0% | ✅ 100% |
| 辅助工具 | 100% | 0% | ✅ 100% |
| 预览功能 | 0% | 100% | ⏳ 0% |
| 框选功能 | 0% | 100% | ⏳ 0% |
| 标签系统 | 0% | 100% | ⏳ 0% |
| 时间线视图 | 0% | 100% | ⏳ 0% |
| UI 调整 | 0% | 100% | ⏳ 0% |

### 实际可用性
- **当前状态**: 核心功能完整，可以正常使用
- **缺失影响**: 主要缺少多选文件的便捷方式和文件预览
- **建议**: 可以发布 Beta 版本，收集用户反馈后决定实现优先级

---

## 🎉 结论

**核心功能已 100% 完成！** ✅

未转化的 37 个函数主要是：
- **增强功能** (21个): 预览、标签、时间线
- **UI 优化** (8个): 框选、拖拽调整  
- **低价值** (8个): 辅助功能、特殊功能

**建议**:
1. ✅ 当前版本已经可以正常使用
2. 🎯 优先实现框选功能（8个函数）
3. 📊 根据用户反馈决定其他功能优先级
4. 🚀 可以发布 Beta 版本开始收集反馈

---

**文档更新**: 2025-11-17  
**实际完成度**: 核心功能 100%, 总体 61.5%  
**建议**: 先测试使用，按需实现剩余功能 🎯

