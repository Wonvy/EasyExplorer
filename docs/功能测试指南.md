# 功能测试指南

## 测试前准备

1. 确保应用正在运行：
   ```bash
   npm run dev
   ```

2. 准备测试数据：
   - 创建一个测试目录，例如 `D:\TestProjects\2025`
   - 在该目录下创建月份文件夹：`1月`、`2月`...`11月`、`12月`
   - 在月份文件夹中创建一些测试项目（建议使用 MMDD-名称 格式）

## 测试步骤

### 1. 测试主题切换功能 🎨

**步骤**：
1. 打开应用
2. 点击左下角的设置图标（齿轮⚙️）
3. 在弹出菜单中点击"切换主题"
4. 观察界面是否从亮色切换为暗色（或反之）
5. 刷新页面（F5）
6. 确认主题保持不变

**预期结果**：
- ✅ 主题立即切换
- ✅ 刷新后主题保持
- ✅ 控制台输出 "切换主题按钮被点击" 和 "当前主题：dark/light"

---

### 2. 测试日历视图功能 📅

**步骤**：
1. 首先配置项目路径：
   - 点击设置图标 → "设置"
   - 在设置页面找到"项目路径设置"
   - 添加 2025 年的路径，例如：`D:\TestProjects\2025`
   - 保存设置

2. 返回主界面，点击"项目"选项卡
3. 点击"日历"按钮
4. 应该看到当前月份的日历视图

**预期结果**：
- ✅ 显示当前年份和月份
- ✅ 日历格式正确（周一到周日）
- ✅ 显示测试项目文件夹
- ✅ 今天的日期高亮显示

**进一步测试**：
1. 点击"&lt;"（上一月）按钮，确认切换到上个月
2. 点击"&gt;"（下一月）按钮，确认切换到下个月
3. 点击"今天"按钮，确认返回当前月份
4. 双击某个项目文件夹，确认能够进入该文件夹
5. 点击某个日期的"+"图标，测试创建新文件夹：
   - 输入文件夹名称（不含日期前缀）
   - 确认创建成功
   - 检查实际创建的文件夹名称是否包含日期前缀（MMDD-名称）

---

### 3. 测试年报视图功能 📊

**步骤**：
1. 确保已配置项目路径（同上）
2. 点击"项目"选项卡
3. 点击"年报"按钮
4. 应该看到年度时间轴视图

**预期结果**：
- ✅ 显示当前年份
- ✅ 横向时间轴显示12个月
- ✅ 每个月下方显示该月的项目
- ✅ 右侧有项目预览面板

**进一步测试**：
1. 测试滚动：
   - 使用鼠标滚轮横向滚动时间轴
   - 使用鼠标拖拽滚动时间轴
   
2. 测试项目交互：
   - 单击某个项目，确认右侧显示预览
   - 项目应该高亮显示
   - 预览面板应该显示项目内的文件列表
   - 双击某个项目，确认在系统文件管理器中打开
   
3. 测试年份切换：
   - 点击"&lt;"切换到上一年（如果有配置）
   - 点击"&gt;"切换到下一年（如果有配置）

4. 测试预览面板：
   - 点击预览区域的刷新按钮
   - 双击预览中的文件，确认能够打开

---

### 4. 测试设置页面功能 ⚙️

**步骤**：
1. 点击设置图标 → "设置"
2. 在设置窗口中测试各个选项卡

**预期结果**：
- ✅ 设置窗口正确打开
- ✅ 侧边栏选项卡可以切换
- ✅ 项目路径配置功能正常
- ✅ 可以添加、编辑、删除项目路径

---

### 5. 测试主界面功能 🏠

**步骤**：
1. 测试侧边栏选项卡切换：
   - 点击"主页"
   - 点击"项目"
   - 点击"最近"
   
2. 测试文件浏览：
   - 选择一个磁盘驱动器
   - 浏览文件夹
   - 测试后退、前进、向上按钮
   
3. 测试视图切换：
   - 点击图标视图按钮
   - 点击列表视图按钮
   - 点击分组视图按钮
   - 点击时间轴视图按钮
   
4. 测试文件操作：
   - 双击文件夹进入
   - 双击文件打开
   - 右键菜单（如果已实现）

---

## 常见问题

### Q1: 点击日历/年报按钮没有反应？
**解决方法**：
- 检查是否配置了对应年份的项目路径
- 打开浏览器控制台（F12）查看错误信息
- 确认项目路径是否存在

### Q2: 日历中看不到项目？
**解决方法**：
- 确认月份文件夹存在（例如"11月"）
- 确认月份文件夹中有项目文件夹
- 检查项目文件夹命名格式（建议使用 MMDD-名称）
- 查看控制台是否有错误信息

### Q3: 主题切换后样式混乱？
**解决方法**：
- 清除浏览器缓存
- 刷新页面（Ctrl+F5 强制刷新）
- 检查 CSS 文件是否正确加载

### Q4: 年报加载很慢？
**原因**：如果项目数量很多，加载所有月份的数据需要时间
**解决方法**：耐心等待，或者优化数据加载逻辑

---

## 测试检查清单

### 日历功能
- [ ] 日历正确显示当前月份
- [ ] 能够切换到上一月/下一月
- [ ] "今天"按钮正常工作
- [ ] 项目文件夹正确显示在对应日期
- [ ] 双击文件夹能够打开
- [ ] 创建新文件夹功能正常
- [ ] 日期前缀自动添加

### 年报功能
- [ ] 时间轴正确显示12个月
- [ ] 每个月的项目正确加载
- [ ] 滚轮滚动正常
- [ ] 鼠标拖拽滚动正常
- [ ] 单击项目显示预览
- [ ] 双击项目打开文件夹
- [ ] 切换年份功能正常
- [ ] 项目高亮状态正确

### 主题切换
- [ ] 主题切换立即生效
- [ ] 刷新后主题保持
- [ ] 深色主题样式正确
- [ ] 浅色主题样式正确

### 主界面功能
- [ ] 侧边栏选项卡切换正常
- [ ] 文件浏览功能正常
- [ ] 视图切换功能正常
- [ ] 导航按钮（后退/前进/向上）正常
- [ ] 文件/文件夹双击打开正常

---

## 测试报告模板

```markdown
## 测试日期：____年____月____日
## 测试人员：____________

### 测试环境
- 操作系统：Windows 10
- Tauri 版本：1.5.0
- 浏览器内核：Chromium

### 测试结果

#### 日历功能
- 状态：✅ 通过 / ❌ 失败
- 问题描述：

#### 年报功能
- 状态：✅ 通过 / ❌ 失败
- 问题描述：

#### 主题切换
- 状态：✅ 通过 / ❌ 失败
- 问题描述：

#### 其他功能
- 状态：✅ 通过 / ❌ 失败
- 问题描述：

### 总结
整体评价：

建议改进：
```

---

## 调试技巧

1. **查看控制台日志**：
   - 打开开发者工具（F12）
   - 查看 Console 选项卡
   - 注意红色的错误信息

2. **查看网络请求**：
   - 在开发者工具中打开 Network 选项卡
   - 观察资源加载情况

3. **查看 LocalStorage**：
   - 在开发者工具中打开 Application 选项卡
   - 左侧找到 Local Storage
   - 查看 `projectPaths`、`theme` 等配置

4. **Rust 后端日志**：
   - 查看运行 `npm run dev` 的终端输出
   - 后端错误会在终端显示

---

祝测试顺利！🎉


