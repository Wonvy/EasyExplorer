# ğŸ”¥ çƒ­é‡è½½é…ç½®è¯´æ˜

## âœ… å·²é…ç½®å®Œæˆ

ç°åœ¨æ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ `npm run tauri dev` å¯åŠ¨åº”ç”¨ï¼Œæ— éœ€æ¯æ¬¡éƒ½è¿è¡Œ `npm run dev`ï¼

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ 1: ç›´æ¥ä½¿ç”¨ Tauri CLIï¼ˆæ¨èï¼‰â­

```bash
npm run tauri dev
```

**è¿™ä¼šè‡ªåŠ¨**ï¼š
1. âœ… å¯åŠ¨ HTTP æœåŠ¡å™¨ï¼ˆç«¯å£ 8080ï¼‰
2. âœ… å¯åŠ¨ SCSS è‡ªåŠ¨ç¼–è¯‘ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
3. âœ… å¯åŠ¨ Tauri åº”ç”¨çª—å£
4. âœ… å¯ç”¨çƒ­é‡è½½

**ä¼˜ç‚¹**ï¼š
- ä¸€ä¸ªå‘½ä»¤æå®š
- Tauri åŸç”Ÿæ”¯æŒ
- è‡ªåŠ¨ç®¡ç†è¿›ç¨‹

---

### æ–¹å¼ 2: ä½¿ç”¨ç®€åŒ–å‘½ä»¤ï¼ˆåŸæ–¹å¼ï¼‰

```bash
npm run dev
```

è¿™ä¸ªå‘½ä»¤ä½¿ç”¨ `concurrently` åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼Œæ•ˆæœç›¸åŒã€‚

---

## ğŸ”„ çƒ­é‡è½½åŠŸèƒ½

### å‰ç«¯æ–‡ä»¶çƒ­é‡è½½ âœ…

**è‡ªåŠ¨é‡è½½çš„æ–‡ä»¶ç±»å‹**ï¼š
- âœ… HTML æ–‡ä»¶ï¼ˆ`src/index.html`, `src/settings.html`ï¼‰
- âœ… JavaScript æ–‡ä»¶ï¼ˆ`src/renderer-tauri.js` ç­‰ï¼‰
- âœ… CSS æ–‡ä»¶ï¼ˆ`src/css/*.css`ï¼‰
- âœ… SCSS/SASS æ–‡ä»¶ï¼ˆ`src/scss/*.sass` â†’ è‡ªåŠ¨ç¼–è¯‘ä¸º CSSï¼‰

**å·¥ä½œåŸç†**ï¼š
1. HTTP æœåŠ¡å™¨ç›‘å¬ `src/` ç›®å½•
2. æ–‡ä»¶å˜åŒ–æ—¶ï¼Œæµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°
3. SASS ç›‘å¬ `src/scss/` ç›®å½•ï¼Œè‡ªåŠ¨ç¼–è¯‘

**æ•ˆæœ**ï¼š
- ä¿®æ”¹ HTML/JS/CSS â†’ ä¿å­˜ â†’ æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–° âœ¨
- ä¿®æ”¹ SASS â†’ ä¿å­˜ â†’ è‡ªåŠ¨ç¼–è¯‘ CSS â†’ æµè§ˆå™¨åˆ·æ–° âœ¨

---

### åç«¯æ–‡ä»¶çƒ­é‡è½½ âœ…

**è‡ªåŠ¨é‡è½½çš„æ–‡ä»¶**ï¼š
- âœ… Rust æ–‡ä»¶ï¼ˆ`src-tauri/src/*.rs`ï¼‰
- âœ… Cargo é…ç½®ï¼ˆ`src-tauri/Cargo.toml`ï¼‰

**å·¥ä½œåŸç†**ï¼š
- Tauri CLI ç›‘å¬ Rust æºæ–‡ä»¶å˜åŒ–
- è‡ªåŠ¨é‡æ–°ç¼–è¯‘
- è‡ªåŠ¨é‡å¯åº”ç”¨

**æ•ˆæœ**ï¼š
- ä¿®æ”¹ Rust ä»£ç  â†’ ä¿å­˜ â†’ è‡ªåŠ¨ç¼–è¯‘ â†’ åº”ç”¨é‡å¯ âœ¨

---

## ğŸ“ é…ç½®è¯¦è§£

### tauri.conf.json é…ç½®

```json
{
  "build": {
    "beforeDevCommand": "npm run serve & npm run sass",
    "beforeBuildCommand": "npm run sass:build",
    "devPath": "http://localhost:8080",
    "distDir": "../src",
    "withGlobalTauri": true
  }
}
```

**é…ç½®è¯´æ˜**ï¼š

1. **`beforeDevCommand`**: å¼€å‘æ¨¡å¼å‰æ‰§è¡Œ
   - `npm run serve` - å¯åŠ¨ HTTP æœåŠ¡å™¨
   - `npm run sass` - å¯åŠ¨ SCSS ç›‘å¬ç¼–è¯‘
   - `&` - Windows ä¸‹å¹¶è¡Œè¿è¡Œ

2. **`beforeBuildCommand`**: æ„å»ºå‰æ‰§è¡Œ
   - `npm run sass:build` - ç¼–è¯‘ SCSS ä¸€æ¬¡

3. **`devPath`**: å¼€å‘æœåŠ¡å™¨åœ°å€
   - `http://localhost:8080` - HTTP æœåŠ¡å™¨åœ°å€

4. **`withGlobalTauri`**: å…¨å±€ Tauri API
   - `true` - å¯ç”¨ `window.__TAURI__`

---

## ğŸ¯ ä¸åŒåœºæ™¯çš„ä½¿ç”¨æ–¹å¼

### åœºæ™¯ 1: å…¨æ ˆå¼€å‘ï¼ˆå‰ç«¯+åç«¯ï¼‰

```bash
# æ¨èä½¿ç”¨
npm run tauri dev
```

**ç›‘å¬**ï¼š
- âœ… å‰ç«¯æ–‡ä»¶ï¼ˆHTML/JS/CSS/SASSï¼‰
- âœ… åç«¯æ–‡ä»¶ï¼ˆRustï¼‰

---

### åœºæ™¯ 2: åªæ”¹å‰ç«¯

```bash
# å…ˆå¯åŠ¨ä¸€æ¬¡
npm run tauri dev

# ä¹‹åä¿®æ”¹å‰ç«¯æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ·æ–°
# æ— éœ€é‡å¯
```

**æ•ˆæœ**ï¼š
- ä¿®æ”¹ JS/HTML/SASS â†’ ä¿å­˜ â†’ ç«‹å³çœ‹åˆ°æ•ˆæœ

---

### åœºæ™¯ 3: åªæ”¹åç«¯

```bash
# å…ˆå¯åŠ¨ä¸€æ¬¡
npm run tauri dev

# ä¿®æ”¹ Rust æ–‡ä»¶ä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘
# åº”ç”¨ä¼šè‡ªåŠ¨é‡å¯
```

**æ•ˆæœ**ï¼š
- ä¿®æ”¹ Rust â†’ ä¿å­˜ â†’ ç­‰å¾…ç¼–è¯‘ â†’ åº”ç”¨é‡å¯

---

### åœºæ™¯ 4: åªçœ‹æ•ˆæœï¼ˆä¸ä¿®æ”¹ä»£ç ï¼‰

```bash
# å¯åŠ¨åº”ç”¨
npm run tauri dev

# åº”ç”¨è¿è¡Œï¼Œä¸ä¼šè‡ªåŠ¨åˆ·æ–°
# é€‚åˆæµ‹è¯•å’Œæ¼”ç¤º
```

---

## ğŸ”§ ä¼˜åŒ–å»ºè®®

### 1. ä½¿ç”¨æ›´ç®€çŸ­çš„å‘½ä»¤ï¼ˆå¯é€‰ï¼‰

**æ–¹å¼ A**: ä¿®æ”¹ package.json
```json
{
  "scripts": {
    "dev": "tauri dev",
    "start": "npm run dev"
  }
}
```

ç„¶åå°±å¯ä»¥ï¼š
```bash
npm start
```

**æ–¹å¼ B**: åˆ›å»º PowerShell åˆ«å
```powershell
# åœ¨ PowerShell é…ç½®æ–‡ä»¶ä¸­æ·»åŠ 
Set-Alias dev "npm run tauri dev"
```

---

### 2. ç¦ç”¨ç‰¹å®šæ–‡ä»¶çš„é‡è½½ï¼ˆå¯é€‰ï¼‰

å¦‚æœæŸäº›å¤§æ–‡ä»¶å¯¼è‡´é¢‘ç¹é‡è½½ï¼Œå¯ä»¥é…ç½®å¿½ç•¥ï¼š

**åœ¨ serve.js ä¸­**ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼š
```javascript
// å¿½ç•¥æŸäº›æ–‡ä»¶å˜åŒ–
const ignoredPaths = [
  'node_modules',
  '.git',
  'dist',
  'target'
];
```

---

### 3. åŠ å¿« Rust ç¼–è¯‘é€Ÿåº¦ï¼ˆå¯é€‰ï¼‰

**åœ¨ `src-tauri/Cargo.toml` ä¸­æ·»åŠ **ï¼š
```toml
[profile.dev]
incremental = true
```

è¿™ä¼šå¯ç”¨å¢é‡ç¼–è¯‘ï¼ŒåŠ å¿«é‡æ–°ç¼–è¯‘é€Ÿåº¦ã€‚

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: è¿è¡Œ `npm run tauri dev` åæµè§ˆå™¨ä¸åˆ·æ–°ï¼Ÿ

**æ£€æŸ¥**ï¼š
1. ç¡®è®¤ HTTP æœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼ˆç«¯å£ 8080ï¼‰
2. æ£€æŸ¥ç»ˆç«¯æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
3. å°è¯•æ‰‹åŠ¨åˆ·æ–° `F5`

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
netstat -ano | findstr :8080

# å¦‚æœè¢«å ç”¨ï¼Œåœæ­¢è¯¥è¿›ç¨‹æˆ–æ›´æ”¹ç«¯å£
```

---

### Q2: SASS æ–‡ä»¶ä¿®æ”¹å CSS æ²¡æ›´æ–°ï¼Ÿ

**æ£€æŸ¥**ï¼š
1. ç»ˆç«¯ä¸­æ˜¯å¦æ˜¾ç¤º SASS ç¼–è¯‘æˆåŠŸ
2. `src/css/styles.css` æ–‡ä»¶æ—¶é—´æˆ³æ˜¯å¦æ›´æ–°

**è§£å†³**ï¼š
```bash
# æ‰‹åŠ¨ç¼–è¯‘ä¸€æ¬¡
npm run sass:build

# é‡å¯å¼€å‘æœåŠ¡å™¨
Ctrl+C
npm run tauri dev
```

---

### Q3: Rust ä»£ç ä¿®æ”¹ååº”ç”¨æ²¡é‡å¯ï¼Ÿ

**æ£€æŸ¥**ï¼š
1. Rust ä»£ç æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯
2. ç»ˆç«¯ä¸­æ˜¯å¦æ˜¾ç¤ºç¼–è¯‘é”™è¯¯

**è§£å†³**ï¼š
```bash
# æŸ¥çœ‹è¯¦ç»†ç¼–è¯‘ä¿¡æ¯
cd src-tauri
cargo build

# ä¿®å¤é”™è¯¯åé‡å¯
npm run tauri dev
```

---

### Q4: ç«¯å£ 8080 å·²è¢«å ç”¨ï¼Ÿ

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Error: listen EADDRINUSE: address already in use :::8080
```

**è§£å†³æ–¹æ¡ˆ 1**: åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
```powershell
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8080

# åœæ­¢è¯¥è¿›ç¨‹ï¼ˆæ›¿æ¢ PIDï¼‰
taskkill /PID <è¿›ç¨‹ID> /F
```

**è§£å†³æ–¹æ¡ˆ 2**: æ›´æ”¹ç«¯å£
ä¿®æ”¹ `serve.js`:
```javascript
const PORT = 3000; // æ”¹ä¸ºå…¶ä»–ç«¯å£
```

ä¿®æ”¹ `src-tauri/tauri.conf.json`:
```json
"devPath": "http://localhost:3000"
```

---

### Q5: æƒ³è¦æ›´å¿«çš„é‡è½½é€Ÿåº¦ï¼Ÿ

**ä¼˜åŒ–å»ºè®®**ï¼š

1. **ä½¿ç”¨ SSD ç¡¬ç›˜** - åŠ å¿«æ–‡ä»¶è¯»å†™
2. **å…³é—­æ€æ¯’è½¯ä»¶çš„å®æ—¶æ‰«æ** - å‡å°‘æ–‡ä»¶ç›‘å¬å»¶è¿Ÿ
3. **å‡å° SCSS æ–‡ä»¶å¤§å°** - åŠ å¿«ç¼–è¯‘é€Ÿåº¦
4. **ä½¿ç”¨å¢é‡ç¼–è¯‘** - è§ä¸Šæ–¹ Rust ä¼˜åŒ–

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### ä½¿ç”¨çƒ­é‡è½½å‰ âŒ
```
ä¿®æ”¹ä»£ç  â†’ æ‰‹åŠ¨åœæ­¢(Ctrl+C) â†’ npm run dev â†’ ç­‰å¾…å¯åŠ¨(10-30ç§’)
```

### ä½¿ç”¨çƒ­é‡è½½å âœ…
```
ä¿®æ”¹å‰ç«¯ä»£ç  â†’ ä¿å­˜ â†’ è‡ªåŠ¨åˆ·æ–°(1-2ç§’) âš¡
ä¿®æ”¹åç«¯ä»£ç  â†’ ä¿å­˜ â†’ è‡ªåŠ¨ç¼–è¯‘+é‡å¯(5-10ç§’) âš¡
```

**èŠ‚çœæ—¶é—´**: æ¯æ¬¡ä¿®æ”¹èŠ‚çœ **8-28ç§’** â±ï¸

---

## ğŸ‰ æ€»ç»“

### ç°åœ¨æ‚¨å¯ä»¥

**ä¸€ä¸ªå‘½ä»¤å¯åŠ¨**ï¼š
```bash
npm run tauri dev
```

**è‡ªåŠ¨äº«å—**ï¼š
- âœ… å‰ç«¯çƒ­é‡è½½ï¼ˆHTML/JS/CSS/SASSï¼‰
- âœ… åç«¯çƒ­é‡è½½ï¼ˆRustï¼‰
- âœ… è‡ªåŠ¨ç¼–è¯‘ SCSS
- âœ… æ— éœ€æ‰‹åŠ¨é‡å¯

### å¯¹æ¯”åŸæ¥

**åŸæ¥**ï¼š
```bash
npm run dev  # éœ€è¦ concurrently
```

**ç°åœ¨**ï¼š
```bash
npm run tauri dev  # Tauri åŸç”Ÿæ”¯æŒ
# æˆ–
npm run dev  # ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [SCSS ç¼–è¯‘è¯´æ˜](./SCSSç¼–è¯‘è¯´æ˜.md)
- [å¿«é€Ÿå¼€å§‹](./å¿«é€Ÿå¼€å§‹-è½¬åŒ–ç‰ˆ.md)
- [é”™è¯¯ä¿®å¤è¯´æ˜](./é”™è¯¯ä¿®å¤è¯´æ˜.md)

---

**ç°åœ¨å°±è¯•è¯•å§ï¼** ğŸš€

```bash
npm run tauri dev
```

ä¿®æ”¹ä»»ä½•æ–‡ä»¶ï¼Œä¿å­˜ï¼Œçœ‹ç€å®ƒè‡ªåŠ¨æ›´æ–° âœ¨

---

**æ›´æ–°æ—¶é—´**: 2025-11-17  
**Tauri ç‰ˆæœ¬**: 1.5.0  
**çŠ¶æ€**: âœ… çƒ­é‡è½½å·²é…ç½®

