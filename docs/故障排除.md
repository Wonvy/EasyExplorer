# æ•…éšœæ’é™¤æŒ‡å—

## ğŸ› å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜ 1: `window.__TAURI__` æœªå®šä¹‰

**é”™è¯¯ä¿¡æ¯**:
```
Uncaught TypeError: Cannot destructure property 'invoke' of 'window.__TAURI__.tauri' as it is undefined
```

**åŸå› **: 
- åœ¨é Tauri ç¯å¢ƒä¸­æ‰“å¼€äº† HTML æ–‡ä»¶
- æˆ– Tauri API å°šæœªåŠ è½½å®Œæˆ

**è§£å†³æ–¹æ¡ˆ**:
1. **æ­£ç¡®æ–¹å¼**: ä½¿ç”¨ `npm run dev` å¯åŠ¨åº”ç”¨
2. **é”™è¯¯æ–¹å¼**: âŒ ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `index.html`

```bash
# æ­£ç¡®å¯åŠ¨æ–¹å¼
npm run dev

# æˆ–
cd src-tauri
cargo tauri dev
```

---

### é—®é¢˜ 2: å˜é‡é‡å¤å£°æ˜

**é”™è¯¯ä¿¡æ¯**:
```
Uncaught SyntaxError: Identifier 'os' has already been declared
```

**åŸå› **: 
åŒæ—¶å¼•å…¥äº† `tauri-adapter.js` å’Œ `renderer.js`ï¼Œå¯¼è‡´å˜é‡å†²çª

**è§£å†³æ–¹æ¡ˆ**:
åœ¨ `index.html` ä¸­é€‰æ‹©ä¸€ç§æ–¹å¼ï¼š

#### æ–¹å¼ A: ä½¿ç”¨ Tauri åŸç”Ÿå®ç°ï¼ˆæ¨èï¼‰

```html
<!-- åªä½¿ç”¨ renderer-tauri.js -->
<script src="renderer-tauri.js"></script>
```

#### æ–¹å¼ B: ä½¿ç”¨ Electron é€‚é…å™¨

```html
<!-- å…ˆåŠ è½½é€‚é…å™¨ï¼Œå†åŠ è½½åŸ renderer.js -->
<script src="tauri-adapter.js"></script>
<script src="renderer.js"></script>
```

**å½“å‰é…ç½®**: å·²é»˜è®¤ä½¿ç”¨æ–¹å¼ Aï¼ˆæ¨èï¼‰

---

### é—®é¢˜ 3: åº”ç”¨çª—å£ç©ºç™½

**å¯èƒ½åŸå› **:

1. **JavaScript é”™è¯¯** - æŒ‰ F12 æŸ¥çœ‹æ§åˆ¶å°
2. **CSS æœªåŠ è½½** - æ£€æŸ¥ `css/styles.css` æ˜¯å¦å­˜åœ¨
3. **Tauri API è°ƒç”¨å¤±è´¥** - æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

**è§£å†³æ­¥éª¤**:

```bash
# 1. åœæ­¢å½“å‰è¿è¡Œï¼ˆå¦‚æœæ­£åœ¨è¿è¡Œï¼‰
Ctrl + C

# 2. æ¸…ç†æ„å»ºç¼“å­˜
cd src-tauri
cargo clean
cd ..

# 3. é‡æ–°å¯åŠ¨
npm run dev
```

---

### é—®é¢˜ 4: é©±åŠ¨å™¨æˆ–æ–‡ä»¶åˆ—è¡¨ä¸æ˜¾ç¤º

**ç—‡çŠ¶**: ä¾§è¾¹æ å¯è§ï¼Œä½†æ²¡æœ‰é©±åŠ¨å™¨æˆ–æ–‡ä»¶

**æ£€æŸ¥æ­¥éª¤**:

1. **æ‰“å¼€å¼€å‘è€…å·¥å…·** (F12)
2. **æŸ¥çœ‹æ§åˆ¶å°** æ˜¯å¦æœ‰é”™è¯¯
3. **æŸ¥çœ‹ Network æ ‡ç­¾** ç¡®è®¤ Rust å‘½ä»¤æ˜¯å¦è¢«è°ƒç”¨

**å¯èƒ½çš„é”™è¯¯**:

```javascript
// å¦‚æœçœ‹åˆ°è¿™ä¸ªé”™è¯¯
Error: Failed to invoke 'read_directory'
```

**è§£å†³æ–¹æ¡ˆ**:
æ£€æŸ¥ Rust åç«¯æ˜¯å¦æ­£ç¡®ç¼–è¯‘å’Œè¿è¡Œã€‚æŸ¥çœ‹è¿è¡Œ `npm run dev` çš„ç»ˆç«¯è¾“å‡ºã€‚

---

### é—®é¢˜ 5: æ–‡ä»¶æ“ä½œå¤±è´¥

**é”™è¯¯ç¤ºä¾‹**:
```
Error: æ— æ³•æ‰“å¼€æ–‡ä»¶: Access denied
```

**åŸå› **: 
Tauri çš„å®‰å…¨é™åˆ¶æˆ–æ–‡ä»¶æƒé™é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:

1. **æ£€æŸ¥æ–‡ä»¶æƒé™**: ç¡®ä¿æœ‰è¯»å†™æƒé™
2. **æ£€æŸ¥ Tauri é…ç½®**: æŸ¥çœ‹ `src-tauri/tauri.conf.json` ä¸­çš„ `allowlist`

```json
{
  "tauri": {
    "allowlist": {
      "fs": {
        "all": true,
        "scope": ["**"]
      }
    }
  }
}
```

---

### é—®é¢˜ 6: æ— æ³•ç¼–è¯‘ Rust ä»£ç 

**é”™è¯¯**: Rust ç¼–è¯‘å¤±è´¥

**å¸¸è§åŸå› å’Œè§£å†³æ–¹æ¡ˆ**:

#### åŸå›  A: ç¼ºå°‘ Visual Studio Build Tools (Windows)

```bash
# ä¸‹è½½å¹¶å®‰è£…
https://visualstudio.microsoft.com/visual-cpp-build-tools/

# å‹¾é€‰: "Desktop development with C++"
```

#### åŸå›  B: Rust ç‰ˆæœ¬è¿‡æ—§

```bash
# æ›´æ–° Rust
rustup update
```

#### åŸå›  C: ä¾èµ–å†²çª

```bash
# æ¸…ç†å¹¶é‡æ–°æ„å»º
cd src-tauri
cargo clean
cargo build
```

---

### é—®é¢˜ 7: çƒ­é‡è½½ä¸å·¥ä½œ

**ç—‡çŠ¶**: ä¿®æ”¹ä»£ç ååº”ç”¨æ²¡æœ‰æ›´æ–°

**è§£å†³æ–¹æ¡ˆ**:

- **å‰ç«¯ä»£ç ** (HTML/CSS/JS): åœ¨åº”ç”¨çª—å£ä¸­æŒ‰ `Ctrl + R` åˆ·æ–°
- **Rust ä»£ç **: åº”è¯¥è‡ªåŠ¨é‡æ–°ç¼–è¯‘ï¼ŒæŸ¥çœ‹ç»ˆç«¯è¾“å‡º
- **é…ç½®æ–‡ä»¶**: å¯èƒ½éœ€è¦é‡å¯ `npm run dev`

---

### é—®é¢˜ 8: æ‰¾ä¸åˆ°æ¨¡å—æˆ–ä¾èµ–

**é”™è¯¯**:
```
Module not found: sortablejs
Module not found: highlight.js
```

**è§£å†³æ–¹æ¡ˆ**:

```bash
# é‡æ–°å®‰è£…ä¾èµ–
npm install

# ç¡®è®¤ä¾èµ–å·²å®‰è£…
npm list sortablejs highlight.js
```

---

### é—®é¢˜ 9: å›¾æ ‡ä¸æ˜¾ç¤º

**ç—‡çŠ¶**: åº”ç”¨å›¾æ ‡æ˜¾ç¤ºä¸ºé»˜è®¤å›¾æ ‡

**è§£å†³æ–¹æ¡ˆ**:

å›¾æ ‡åœ¨å¼€å‘æ¨¡å¼ä¸‹å¯èƒ½ä¸æ˜¾ç¤ºï¼Œè¿™æ˜¯æ­£å¸¸çš„ã€‚

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬åå›¾æ ‡ä¼šæ­£å¸¸æ˜¾ç¤º
npm run build
```

å¦‚éœ€åœ¨å¼€å‘æ¨¡å¼ä¸‹çœ‹åˆ°å›¾æ ‡ï¼Œç¡®ä¿ `src-tauri/icons/` ç›®å½•ä¸­æœ‰æ‰€æœ‰å›¾æ ‡æ–‡ä»¶ã€‚

---

### é—®é¢˜ 10: æ€§èƒ½é—®é¢˜æˆ–å¡é¡¿

**å¯èƒ½åŸå› **:

1. **å¤§é‡æ–‡ä»¶**: å°è¯•æ‰“å¼€åŒ…å«æ•°åƒä¸ªæ–‡ä»¶çš„ç›®å½•
2. **è°ƒè¯•æ¨¡å¼**: å¼€å‘æ¨¡å¼æœªä¼˜åŒ–

**è§£å†³æ–¹æ¡ˆ**:

#### çŸ­æœŸæ–¹æ¡ˆ
- é¿å…æ‰“å¼€è¶…å¤§ç›®å½•
- å®ç°è™šæ‹Ÿæ»šåŠ¨ï¼ˆæœªæ¥åŠŸèƒ½ï¼‰

#### é•¿æœŸæ–¹æ¡ˆ
```bash
# æ„å»ºä¼˜åŒ–ç‰ˆæœ¬
npm run build
# è¿è¡Œä½äº src-tauri/target/release/ çš„å¯æ‰§è¡Œæ–‡ä»¶
```

---

## ğŸ” è°ƒè¯•æŠ€å·§

### å‰ç«¯è°ƒè¯•

1. **æ‰“å¼€å¼€å‘è€…å·¥å…·**: æŒ‰ `F12`
2. **æŸ¥çœ‹æ§åˆ¶å°**: Console æ ‡ç­¾é¡µ
3. **æŸ¥çœ‹ç½‘ç»œè¯·æ±‚**: Network æ ‡ç­¾é¡µ
4. **æŸ¥çœ‹å…ƒç´ **: Elements æ ‡ç­¾é¡µ

### Rust åç«¯è°ƒè¯•

åœ¨ `src-tauri/src/main.rs` ä¸­æ·»åŠ æ—¥å¿—ï¼š

```rust
println!("è°ƒè¯•ä¿¡æ¯: {:?}", some_variable);
```

æ—¥å¿—ä¼šæ˜¾ç¤ºåœ¨è¿è¡Œ `npm run dev` çš„ç»ˆç«¯ä¸­ã€‚

### æŸ¥çœ‹ Tauri API è°ƒç”¨

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼š

```javascript
// æµ‹è¯•è°ƒç”¨
await window.__TAURI__.tauri.invoke('get_drives')
  .then(drives => console.log('é©±åŠ¨å™¨:', drives))
  .catch(err => console.error('é”™è¯¯:', err));
```

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

å¯åŠ¨åº”ç”¨å‰ç¡®è®¤ï¼š

- [ ] å·²å®‰è£… Rust å’Œ Node.js
- [ ] å·²è¿è¡Œ `npm install`
- [ ] ä½¿ç”¨ `npm run dev` å¯åŠ¨ï¼ˆä¸æ˜¯ç›´æ¥æ‰“å¼€ HTMLï¼‰
- [ ] ç«¯å£æ²¡æœ‰è¢«å ç”¨
- [ ] æ²¡æœ‰å…¶ä»–å®ä¾‹æ­£åœ¨è¿è¡Œ

---

## ğŸ†˜ ä»ç„¶é‡åˆ°é—®é¢˜ï¼Ÿ

### æ”¶é›†è¯Šæ–­ä¿¡æ¯

1. **ç³»ç»Ÿä¿¡æ¯**:
   ```bash
   rustc --version
   node --version
   npm --version
   ```

2. **æŸ¥çœ‹å®Œæ•´é”™è¯¯æ—¥å¿—**:
   - æµè§ˆå™¨æ§åˆ¶å°çš„å®Œæ•´è¾“å‡º
   - ç»ˆç«¯çš„å®Œæ•´è¾“å‡º

3. **æ£€æŸ¥æ–‡ä»¶**:
   - `src-tauri/tauri.conf.json` é…ç½®
   - `src-tauri/Cargo.toml` ä¾èµ–
   - `package.json` è„šæœ¬

### é‡ç½®é¡¹ç›®

å¦‚æœé—®é¢˜æ— æ³•è§£å†³ï¼Œå°è¯•å®Œå…¨é‡ç½®ï¼š

```bash
# 1. åˆ é™¤æ„å»ºäº§ç‰©
Remove-Item -Path "src-tauri\target" -Recurse -Force
Remove-Item -Path "node_modules" -Recurse -Force

# 2. é‡æ–°å®‰è£…
npm install

# 3. é‡æ–°æ„å»º
npm run dev
```

---

## ğŸ“š ç›¸å…³èµ„æº

- [Tauri æ•…éšœæ’é™¤](https://tauri.app/v1/guides/debugging/application)
- [Tauri Discord](https://discord.gg/tauri) - ç¤¾åŒºæ”¯æŒ
- [é¡¹ç›®æ–‡æ¡£](README.md)

---

**æç¤º**: å¤§å¤šæ•°é—®é¢˜éƒ½å¯ä»¥é€šè¿‡æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰æ‰¾åˆ°åŸå› ï¼

